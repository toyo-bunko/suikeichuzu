(window.webpackJsonp=window.webpackJsonp||[]).push([[34,8,9],{523:function(e,t,r){var content=r(524);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("b1bed018",content,!0,{sourceMap:!1})},524:function(e,t,r){var n=r(15)(!1);n.push([e.i,".theme--light.v-breadcrumbs .v-breadcrumbs__divider,.theme--light.v-breadcrumbs .v-breadcrumbs__item--disabled{color:rgba(0,0,0,.38)}.theme--dark.v-breadcrumbs .v-breadcrumbs__divider,.theme--dark.v-breadcrumbs .v-breadcrumbs__item--disabled{color:hsla(0,0%,100%,.5)}.v-breadcrumbs{align-items:center;display:flex;flex-wrap:wrap;flex:0 1 auto;list-style-type:none;margin:0;padding:18px 12px}.v-breadcrumbs li{align-items:center;display:inline-flex;font-size:14px}.v-breadcrumbs li .v-icon{font-size:16px}.v-breadcrumbs li:nth-child(2n){padding:0 12px}.v-breadcrumbs__item{align-items:center;display:inline-flex;text-decoration:none;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-breadcrumbs__item--disabled{pointer-events:none}.v-breadcrumbs--large li,.v-breadcrumbs--large li .v-icon{font-size:16px}",""]),e.exports=n},527:function(e,t,r){"use strict";r.r(t);r(69);var n=r(20),o=r(37),l=r(32),c=r(19),v=r(10),f=(r(8),r(40));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var h=function(e,t,r,desc){var n,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},y=function(e){Object(o.a)(r,e);var t=d(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(f.Vue);h([Object(f.Prop)({required:!0})],y.prototype,"items",void 0);var m=y=h([f.Component],y),O=r(54),x=r(59),w=r.n(x),k=r(533),j=r(513),_=r(190),$=r(74),component=Object(O.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-sheet",{attrs:{color:"grey lighten-2"}},[r("v-container",{staticClass:"py-2 px-0 mx-0",attrs:{fluid:""}},[r("v-breadcrumbs",{staticClass:"py-0",attrs:{items:e.items},scopedSlots:e._u([{key:"divider",fn:function(){return[r("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports;w()(component,{VBreadcrumbs:k.a,VContainer:j.a,VIcon:_.a,VSheet:$.a})},533:function(e,t,r){"use strict";r(7),r(5),r(6),r(8),r(9),r(13);var n=r(1),o=(r(61),r(523),r(63)),l=r(3);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=Object(l.a)(o.a).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(n.a)({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),r=t.tag,data=t.data;return e("li",[e(r,v(v({},data),{},{attrs:v(v({},data.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),d=r(0),h=Object(d.h)("v-breadcrumbs__divider","li"),y=r(14);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}t.a=Object(l.a)(y.a).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(h,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,r=[],i=0;i<this.items.length;i++){var n=this.items[i];r.push(n.text),t?e.push(this.$scopedSlots.item({item:n})):e.push(this.$createElement(f,{key:r.join("."),props:n},[n.text])),i<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},546:function(e,t,r){"use strict";r.r(t);r(69);var n=r(20),o=r(33),l=r(37),c=r(32),v=r(19),f=r(10),d=(r(8),r(40));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(v.a)(e);if(t){var o=Object(v.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var y=function(e,t,r,desc){var n,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},m=r(551).a.Bar,O=function(e){Object(l.a)(r,e);var t=h(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"watchTmp",value:function(){this.main()}},{key:"mounted",value:function(){this.main()}},{key:"main",value:function(){var e={labels:this.labels,datasets:this.datasets};this.renderChart(e,{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:1}}]}})}}]),r}(Object(d.mixins)(m));y([Object(d.Prop)({default:[]})],O.prototype,"labels",void 0),y([Object(d.Prop)({default:[]})],O.prototype,"datasets",void 0),y([Object(d.Watch)("datasets",{deep:!0})],O.prototype,"watchTmp",null);var x=O=y([d.Component],O),w=r(54),component=Object(w.a)(x,undefined,undefined,!1,null,null,null);t.default=component.exports},558:function(e,t,r){var content=r(601);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("49bd23da",content,!0,{sourceMap:!1})},600:function(e,t,r){"use strict";r(558)},601:function(e,t,r){var n=r(15)(!1);n.push([e.i,"mark{background-color:#ffc168}",""]),e.exports=n},644:function(e,t,r){"use strict";r.r(t);r(17),r(24),r(42),r(26),r(5),r(43),r(45),r(34);var n=r(10),o=r(23),l=(r(77),r(27),r(126),r(28),r(44),r(29),r(49),r(6),r(21),r(7),r(61),r(94),r(202),r(62),r(64),r(48),r(203),r(55),r(36),r(104)),c=r.n(l),v=r(527);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var h=r(337);var y={components:{Breadcrumbs:v.default},data:function(){return{tabValue:-1,tabs:null,headersAggs:[{text:this.$t("name"),value:"label"},{text:this.$t("results"),value:"value"}],searchAgg:"",page:1,sort:"冊:asc",layout_:"table",size:20,total:0,items:[],ids:[],q:"",limit:5,aggs:{},facets:{},loading:!0,isShowAll:!1,selectedAggValues:[],selectedField:"group",selected:[],facetSearch:"",layouts:[{label:"list",value:"list",icon:"mdi-view-list",component:"search-layout-list"},{label:"grid",value:"grid",icon:"mdi-view-grid",component:"search-layout-grid"},{label:"table",value:"table",icon:"mdi-table",component:"custom-search-layout-table"},{label:"graph",value:"graph",icon:"mdi-chart-bar",component:"search-layout-graph"},{label:"map",value:"map",icon:"mdi-map",component:"custom-search-layout-map",hidePagination:!0}],isFacetOpen:!0,isAdvanced:!1,advancedOptions:[{label:"冊",type:"select",key:"冊",value:"",values:["1","2","3","4","5","6","7","8"]},{label:"図",type:"select",key:"図",value:"",values:["本図","西域","越南","禹貢山水澤地所在","歴城図","鄴城図","洛陽城図","長安城図","睢陽城図","平城図","薊城図","魯城図","臨淄城図","襄陽城図","寿春城図","成都橋図","山陰城図"]},{label:"区画南北",type:"select",key:"区画南北",value:"",values:["南5","南4","南3","南2","南1","中","北1","北2","北3","北4","北5"]},{label:"区画東西",type:"select",key:"区画東西",value:"",values:["東6","東5","東4","東3","東2","東1","中","西1","西2","西3","西4","西5","西6","西7","西8","西9","西10","西11","西12"]},{label:"表裏",type:"select",key:"表裏",value:"",values:["表","裏"]},{label:"詳細区画",type:"select",key:"詳細区画",value:"",values:["A1","A2","A3","B1","B2","B3","C1","C2","C3","D1","D2","D3"]},{label:"墨朱",type:"select",key:"墨朱",value:"",values:["墨","朱"]},{label:"記号",type:"select",key:"記号",value:"",values:[{value:"0",text:"なし"},{value:"1",text:"地形: 河川"},{value:"2",text:"地形: 故瀆"},{value:"3",text:"地形: 河川(異説)"},{value:"4",text:"地形: 山谷"},{value:"5",text:"地形: 湖"},{value:"6",text:"行政: 州名"},{value:"7",text:"行政: 郡名"},{value:"8",text:"行政: 県名（北魏）"},{value:"9",text:"行政: 州郡跡"},{value:"10",text:"行政: 県跡"},{value:"11",text:"行政: 旧州治の郡県"},{value:"12",text:"行政: 旧郡県の州治"},{value:"13",text:"行政: 旧県の州郡治"},{value:"14",text:"行政: 旧県の郡治"},{value:"15",text:"行政: 旧郡治の県"},{value:"16",text:"地点: 亭台跡"},{value:"17",text:"行政: 省名"},{value:"18",text:"行政: 府名"},{value:"19",text:"行政: 県名（清）"},{value:"20",text:"行政: 直隷庁"},{value:"21",text:"行政: 散庁"},{value:"22",text:"行政: 直隷州"},{value:"23",text:"行政: 散州"},{value:"24",text:"行政: 土州"},{value:"25",text:"行政: 土県・堡鎮"},{value:"26",text:"行政: 軍政長官駐在地(朝鮮の郡)"},{value:"27",text:"行政: 土府"},{value:"28",text:"地点: 長城"},{value:"29",text:"地点: 橋・津"},{value:"30",text:"地点: 井戸"},{value:"31",text:"地点: 圃"},{value:"32",text:"地点: 城壁"},{value:"33",text:"地点: 陵墓"},{value:"34",text:"地点: 長城門"},{value:"35",text:"記述: 別図参照"}]},{label:"地名/記述",type:"text",key:"地名/記述",value:""},{label:"備考",type:"text",key:"備考",value:""}],bh:[{text:this.$t("top"),disabled:!1,to:this.localePath({name:"index"}),exact:!0},{text:this.$t("category"),disabled:!1,to:this.localePath({name:"category"}),exact:!0},{text:this.$route.params.slug}],metadataList:["冊","図"],sortList:[{label:"適合度",value:"_score"},{label:"冊",value:"冊"}]}},computed:{itemsAggs:function(){var e,t=[],r=f(this.aggs[this.$route.params.slug].value);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push({label:n[0],value:n[1]})}}catch(e){r.e(e)}finally{r.f()}return t.sort((function(a,b){return a.value<b.value?1:a.value>b.value?-1:0})),t},labels:function(){var e,t=[],r=f(this.itemsAggs);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.label)}}catch(e){r.e(e)}finally{r.f()}return t},datasets:function(){var e,data=[],t=f(this.itemsAggs);try{for(t.s();!(e=t.n()).done;){var r=e.value;data.push(r.value)}}catch(e){t.e(e)}finally{t.f()}return[{data:data,label:this.$t("item")}]},length:function(){return Math.ceil(this.total/this.size)},filters:function(){var e=this.$route.query,t=[];for(var r in e)r.includes("[refinementList]")&&t.push({label:r.split("[")[2].split("]")[0],value:e[r]});return t},sortItems:function(){var e,t=["asc","desc"],r=[],n=f(this.sortList);try{for(n.s();!(e=n.n()).done;){var o,l=e.value,c=f(t);try{for(c.s();!(o=c.n()).done;){var v=o.value;r.push({text:l.label+" "+this.$t(v),value:l.value+":"+v})}}catch(e){c.e(e)}finally{c.f()}}}catch(e){n.e(e)}finally{n.f()}return r},searchLayout:function(){var e,t=f(this.layouts);try{for(t.s();!(e=t.n()).done;){var option=e.value;if(option.value===this.layout_)return option.component}}catch(e){t.e(e)}finally{t.f()}}},watch:{page:function(e){var t=JSON.parse(JSON.stringify(this.$route.query));1===e?delete t.page:t.page=e,this.$router.push(this.localePath({name:"search",query:t}))},$route:function(){var e=this.$route.query;e.keyword&&(this.q=e.keyword),this.filter(),this.list()},tabs:function(){console.log(this.tabs);var e=JSON.parse(JSON.stringify(this.$route.query));e.layout=this.tabs,this.$router.push(this.localePath({name:"category-slug",params:this.$route.params,query:e}))}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,l,v,d,h,y,m,option,O,x,w,k,title,j,_,$,S,map,P,C,A,T,R,V,J,N,B,q;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=performance.now(),console.log("start download"),t.next=4,c.a.get("https://static.toyobunko-lab.jp/suikeichuzu/data/index_river.json");case 4:for(h in o=(o=t.sent).data,console.log("end download",performance.now()-r),l={},v={},d={},{"冊":{key:"冊",sort:"name:asc",label:"冊",value:{},more:!1,open:!0},"図":{key:"図",sort:"",label:"図",value:{},more:!1,open:!0},"区画南北":{key:"区画南北",sort:"",label:"区画南北",value:{},more:!1,open:!0},"区画東西":{key:"区画東西",sort:"",label:"区画東西",value:{},more:!1,open:!0},"表裏":{key:"表裏",sort:"",label:"表裏",value:{},more:!1,open:!0},"詳細区画":{key:"詳細区画",sort:"",label:"詳細区画",value:{},more:!1,open:!0},"墨朱":{key:"墨朱",sort:"",label:"墨朱",value:{},more:!1,open:!0},"分類":{key:"分類",sort:"",label:"分類",value:{},more:!1,open:!0},"記号説明":{key:"記号説明",sort:"",label:"記号説明",value:{},more:!1,open:!0},"水名":{key:"水名",sort:"",label:"水名",value:{},more:!1,open:!0},"水経注：巻":{key:"水経注：巻",sort:"",label:"水経注：巻",value:{},more:!1,open:!0},sort:{key:"sort",sort:"",label:"sort",value:{},more:!1,hide:!0},"記号":{key:"記号",sort:"",label:"記号",value:{},more:!1,hide:!0}})d[h]={};y=f(e.advancedOptions);try{for(y.s();!(m=y.n()).done;)option=m.value,d[option.key]={}}catch(e){y.e(e)}finally{y.f()}O=f(o);try{for(O.s();!(x=O.n()).done;)for(w=x.value,k=w.objectID,l[k]=w,title=w.fulltext,v[title]||(v[title]=[]),v[title].push(k),j=Object.keys(d),_=0,$=j;_<$.length;_++){S=$[_],map=d[S],P=w[S],"object"!==Object(n.a)(P)&&(P=[P]),C=f(P);try{for(C.s();!(A=C.n()).done;)T=A.value,map[T]||(map[T]=[]),map[T].push(k)}catch(e){C.e(e)}finally{C.f()}}}catch(e){O.e(e)}finally{O.f()}e.facets=d,e.docs=l,e.index=v,R=e.$route.query,e.tabs=R.layout,V=Number(R.page)||e.page,e.page=V,J=Number(R.size)||e.size,e.size=J,N=R.sort||e.sort,e.sort=N,B="",B=R.layout?R.layout:localStorage.getItem("layout")?localStorage.getItem("layout"):e.layout_,e.layout_=B,q=R.keyword||e.q,e.q=q,console.log("filter start"),e.filter(),console.log("end filter",performance.now()-r),e.list(),e.loading=!1,console.log("end loading",performance.now()-r);case 38:case"end":return t.stop()}}),t)})))()},methods:{getQuery:function(e){var t={};return t["fc-"+this.$route.params.slug]=e,t},init:function(){var e=JSON.parse(JSON.stringify(this.$route.query));for(var t in e)t.includes("[refinementList]")&&delete e[t];delete e.page,this.$router.push(this.localePath({name:"search",query:e}))},filter:function(){var e=JSON.parse(JSON.stringify(this.$route.query)),q=e.keyword||"",t=this.docs,r=this.index,n=[],o={},l=this.sort.split(":"),c=l[0],v=l[1];if(""===q)n=Object.keys(t);else{var d=q.split("　").join(" ").split(" ");for(var y in r){var m,O=!0,x=0,w=f(d);try{for(w.s();!(m=w.n()).done;){var k=m.value,j=(y.match(new RegExp(k,"g"))||[]).length;if(0==j){O=!1;break}x+=j}}catch(e){w.e(e)}finally{w.f()}if(O){var _=r[y];if("_score"===c){var $,S=f(_);try{for(S.s();!($=S.n()).done;){var P=$.value;o[P]||(o[P]=0),o[P]+=x}}catch(e){S.e(e)}finally{S.f()}}n=n.concat(_)}}}var C=this.facets,A={};for(var T in e)if(T.includes("[advanced]")){var R=T.split("[")[2].split("]")[0];A[R]||(A[R]={"+":[],"-":[]});var V=e[T];"string"==typeof V&&(V=[V]);var J,N=f(V);try{for(N.s();!(J=N.n()).done;){var B=J.value,D="+",I=B;B.startsWith("-")&&(D="-",I=B.substring(1)),A[R][D].includes(I)||A[R][D].push(I)}}catch(e){N.e(e)}finally{N.f()}}var L,z={},E=f(this.advancedOptions);try{for(E.s();!(L=E.n()).done;){var option=L.value;z[option.key]=option}}catch(e){E.e(e)}finally{E.f()}for(var G in A){var W=A[G],M=W["+"],H=W["-"],F=C[G];if(M.length>0){var Q,U=[],Z=f(M);try{for(Z.s();!(Q=Z.n()).done;){var K=Q.value;if(z[G].select)U=U.concat(F[K]);else for(var X in F)X.includes(K)&&(U=U.concat(F[X]))}}catch(e){Z.e(e)}finally{Z.f()}n=h.intersection(n,U)}if(H.length>0){var Y,ee=f(H);try{for(ee.s();!(Y=ee.n()).done;){var te=Y.value,re=[];for(var ae in F)ae!==te&&(re=re.concat(F[ae]));n=h.intersection(n,re)}}catch(e){ee.e(e)}finally{ee.f()}}}var ne={};for(var se in e)if(se.includes("[refinementList]")){var ie=se.split("[")[2].split("]")[0];ne[ie]||(ne[ie]={"+":[],"-":[]});var oe=e[se];"string"==typeof oe&&(oe=[oe]);var le,ue=f(oe);try{for(ue.s();!(le=ue.n()).done;){var ce=le.value,ve="+",fe=ce;ce.startsWith("-")&&(ve="-",fe=ce.substring(1)),ne[ie][ve].includes(fe)||ne[ie][ve].push(fe)}}catch(e){ue.e(e)}finally{ue.f()}}for(var de in ne){var he=ne[de],pe=he["+"],ye=he["-"],be=C[de];if(pe.length>0){var me,ge=[],Oe=f(pe);try{for(Oe.s();!(me=Oe.n()).done;){var xe=me.value;ge=ge.concat(be[xe])}}catch(e){Oe.e(e)}finally{Oe.f()}n=h.intersection(n,ge)}if(ye.length>0){var we,ke=f(ye);try{for(ke.s();!(we=ke.n()).done;){var je=we.value,_e=[];for(var $e in be)$e!==je&&(_e=_e.concat(be[$e]));n=h.intersection(n,_e)}}catch(e){ke.e(e)}finally{ke.f()}}}if("_score"===c&&""!==q&&Object.keys(o).length>0){var Se=Object.keys(o).map((function(e){return{key:e,value:o[e]}})),Pe=1,Ce=-1;"asc"===v&&(Pe=-1,Ce=1),Se.sort((function(a,b){return a.value<b.value?Pe:a.value>b.value?Ce:0}));var Ae,Te=[],qe=f(Se);try{for(qe.s();!(Ae=qe.n()).done;){var Re=Ae.value;n.includes(Re.key)&&Te.push(Re.key)}}catch(e){qe.e(e)}finally{qe.f()}n=Te}else if(C[c]){var Ve=C[c],Je=Object.keys(Ve);Je.length,"desc"===v?Je.reverse():Je.sort();var Ne,Be=[],De=f(Je);try{for(De.s();!(Ne=De.n()).done;){var Ie=Ve[Ne.value];Be=Be.concat(Ie)}}catch(e){De.e(e)}finally{De.f()}n=h.intersection(Be,n)}else n=n.sort();this.ids=n,this.total=n.length,this.getAggs()},getAggs:function(){var e={"冊":{key:"冊",sort:"name:asc",label:"冊",value:{},more:!1,open:!0},"図":{key:"図",sort:"",label:"図",value:{},more:!1,open:!0},"区画南北":{key:"区画南北",sort:"",label:"区画南北",value:{},more:!1,open:!0},"区画東西":{key:"区画東西",sort:"",label:"区画東西",value:{},more:!1,open:!0},"表裏":{key:"表裏",sort:"",label:"表裏",value:{},more:!1,open:!0},"詳細区画":{key:"詳細区画",sort:"",label:"詳細区画",value:{},more:!1,open:!0},"墨朱":{key:"墨朱",sort:"",label:"墨朱",value:{},more:!1,open:!0},"分類":{key:"分類",sort:"",label:"分類",value:{},more:!1,open:!0},"記号説明":{key:"記号説明",sort:"",label:"記号説明",value:{},more:!1,open:!0},"水名":{key:"水名",sort:"",label:"水名",value:{},more:!1,open:!0},"水経注：巻":{key:"水経注：巻",sort:"",label:"水経注：巻",value:{},more:!1,open:!0},sort:{key:"sort",sort:"",label:"sort",value:{},more:!1,hide:!0},"記号":{key:"記号",sort:"",label:"記号",value:{},more:!1,hide:!0}};for(var t in e)e[t].label=this.$t(e[t].label);var r,n=this.docs,o=f(this.ids);try{for(o.s();!(r=o.n()).done;){var l=n[r.value];for(var c in e){var v=e[c].value,d=l[c];if("string"==typeof d&&(d=[d]),d){var h,y=f(d);try{for(y.s();!(h=y.n()).done;){var m=h.value;v[m]||(v[m]=0),v[m]+=1}}catch(e){y.e(e)}finally{y.f()}}}}}catch(e){o.e(e)}finally{o.f()}for(var O in e){var x=e[O],w=Object.entries(x.value);"name:asc"!==x.sort&&w.sort((function(e,t){return-(e[1]-t[1])}));var k=w;e[O].value=k}this.aggs=e},search:function(){var e=JSON.parse(JSON.stringify(this.$route.query)),q=this.q||"";""===(q=q.trim())?delete e.keyword:e.keyword=q,delete e.page,this.page=1,this.$router.push(this.localePath({name:"search",query:e}))},list:function(){var e,t=this.$route.query,r=t.page||1,n=t.size||20,o=[],l=f(this.ids.slice((r-1)*n,r*n));try{for(l.s();!(e=l.n()).done;){var c=e.value;o.push(this.docs[c])}}catch(e){l.e(e)}finally{l.f()}this.items=o},faceted:function(e,t){var r=JSON.parse(JSON.stringify(this.$route.query)),n=[];for(var o in r)o.includes("[refinementList]["+e+"]")&&(n.push(r[o]),delete r[o]);"string"==typeof t&&(t=[t]);var l,c=f(t);try{var v=function(){var e=l.value;n.includes(e)?n=n.filter((function(t){return t!==e})):n.push(e)};for(c.s();!(l=c.n()).done;)v()}catch(e){c.e(e)}finally{c.f()}for(var i=0;i<n.length;i++)r["main[refinementList]["+e+"]["+i+"]"]=n[i];this.$router.push(this.localePath({name:"search",query:r}))},checked:function(e,t){var r=this.$route.query,n=[];for(var o in r)o.includes("[refinementList]["+e+"]")&&n.push(r[o]);return!!n.includes(t)},changeHitsPerPage:function(){var e=JSON.parse(JSON.stringify(this.$route.query)),t=this.size;20===t?delete e.size:e.size=t,this.$router.push(this.localePath({name:"search",query:e}))},changeSort:function(){var e=JSON.parse(JSON.stringify(this.$route.query));e.sort=this.sort,this.$router.push(this.localePath({name:"search",query:e}))},changeLayout:function(e){var t=JSON.parse(JSON.stringify(this.$route.query)),r=e;this.layout_=r,"grid"===r?delete t.layout:t.layout=r,this.$router.push(this.localePath({name:"search",query:t})),localStorage.setItem("layout",e)},getMinusValues:function(e){var t=JSON.parse(JSON.stringify(this.$route.query)),r=[];for(var n in t)if(n.includes("["+e+"]")){var o=t[n];o.startsWith("-")&&r.push(o)}return r},showAll:function(e){this.selectedField=e.label,this.selected=[],this.isShowAll=!0;var t,r=[],n=f(e.value);try{for(n.s();!(t=n.n()).done;){var o=t.value;r.push({label:o[0],value:o[1]})}}catch(e){n.e(e)}finally{n.f()}this.selectedAggValues=r},getLabels:function(e){var t,r=[],n=f(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r.push(o.label)}}catch(e){n.e(e)}finally{n.f()}return r}},head:function(){return{title:this.$t("category")+": "+this.$route.params.slug}}},m=(r(600),r(54)),O=r(59),x=r.n(O),w=r(234),k=r(92),j=r(513),_=r(642),$=r(190),S=r(233),P=r(636),C=r(152),A=r(112),T=r(251),R=r(0),V=r(3),J=Object(V.a)(C.a,Object(A.a)("windowGroup","v-window-item","v-window")).extend().extend().extend({name:"v-window-item",directives:{Touch:T.a},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{isActive:!1,inTransition:!1}},computed:{classes:function(){return this.groupClasses},computedTransition:function(){return this.windowGroup.internalReverse?void 0!==this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:void 0!==this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot:function(){return this.$slots.default},genWindowItem:function(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition:function(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition:function(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(R.g)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled:function(){this.onAfterTransition()},onEnter:function(e){var t=this;this.inTransition&&this.$nextTick((function(){t.computedTransition&&t.inTransition&&(t.windowGroup.transitionHeight=Object(R.g)(e.clientHeight))}))}},render:function(e){var t=this;return e("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((function(){return[t.genWindowItem()]})))}}),N=J.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var e=J.options.methods.genWindowItem.call(this);return e.data.domProps=e.data.domProps||{},e.data.domProps.id=this.id||this.value,e}}}),B=r(660),D=r(631),I=r(608),L=r(109),component=Object(m.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Breadcrumbs",{attrs:{items:e.bh}}),e._v(" "),r("v-container",{staticClass:"my-5"},[r("v-tabs",{staticClass:"mb-10",attrs:{"show-arrows":""},model:{value:e.tabValue,callback:function(t){e.tabValue=t},expression:"tabValue"}},[e._l(e.aggs,(function(t,n){return[t.hide?e._e():r("v-tab",{key:n,staticClass:"ma-1",attrs:{depressed:"",color:"primary",to:e.localePath({name:"category-slug",params:{slug:n}})}},[e._v(e._s(t.label))])]}))],2),e._v(" "),r("h2",{staticClass:"my-5"},[e._v(e._s(e.$route.params.slug))]),e._v(" "),e.loading?[r("div",{staticClass:"text-center"},[r("v-progress-circular",{staticClass:"my-10",attrs:{indeterminate:"",color:"primary"}}),e._v(" "),r("p",[e._v("\n          "+e._s(e.$t("初回はインデックスファイルのダウンロードに時間を要します。2回目以降はキャッシュにより待ち時間が改善します。"))+"\n        ")])],1)]:[r("v-tabs",{attrs:{right:""},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[r("v-tabs-slider"),e._v(" "),r("v-tab",{staticClass:"primary--text",attrs:{href:"#table"}},[r("v-icon",[e._v("mdi-table")])],1),e._v(" "),r("v-tab",{staticClass:"primary--text",attrs:{href:"#graph"}},[r("v-icon",[e._v("mdi-chart-bar")])],1)],1),e._v(" "),r("v-tabs-items",{staticClass:"mt-10",model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[r("v-tab-item",{attrs:{value:"table"}},[r("v-card",{attrs:{flat:""}},[r("v-card-title",[r("v-text-field",{attrs:{filled:"",rounded:"","append-icon":"mdi-magnify",dense:"","single-line":"","hide-details":""},model:{value:e.searchAgg,callback:function(t){e.searchAgg=t},expression:"searchAgg"}})],1),e._v(" "),r("v-data-table",{attrs:{"items-per-page":20,"footer-props":{"items-per-page-options":[20,50,100,-1]},headers:e.headersAggs,items:e.itemsAggs,search:e.searchAgg},scopedSlots:e._u([{key:"item.label",fn:function(t){var n=t.item;return[r("nuxt-link",{attrs:{to:e.localePath({name:"search",query:e.getQuery(n.label)})}},[e._v("\n                  "+e._s(n.label)+"\n                ")])]}},{key:"item.value",fn:function(t){var r=t.item;return[e._v("\n                "+e._s(r.value.toLocaleString())+"\n              ")]}}])})],1)],1),e._v(" "),r("v-tab-item",{attrs:{value:"graph"}},[r("BarChart",{staticClass:"mt-10",attrs:{labels:e.labels,datasets:e.datasets}})],1)],1)]],2)],1)}),[],!1,null,null,null);t.default=component.exports;x()(component,{BarChart:r(546).default}),x()(component,{VCard:w.a,VCardTitle:k.c,VContainer:j.a,VDataTable:_.a,VIcon:$.a,VProgressCircular:S.a,VTab:P.a,VTabItem:N,VTabs:B.a,VTabsItems:D.a,VTabsSlider:I.a,VTextField:L.a})}}]);